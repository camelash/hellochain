(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{169:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),e("p",[t._v("This requires a few small changes:")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),e("p",[t._v("Golang has a few dependency management tools. In this tutorial you will be using "),e("a",{attrs:{href:"https://github.com/golang/go/wiki/Modules",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Go Modules")]),e("OutboundLink")],1),t._v(". "),e("code",[t._v("Go Modules")]),t._v(" uses a "),e("code",[t._v("go.mod")]),t._v(" file in the root of the repository to define what dependencies the application needs. Cosmos SDK apps currently depend on specific versions of some libraries. The below manifest contains all the necessary versions. To get started replace the contents of the "),e("code",[t._v("./go.mod")]),t._v(" file with the "),e("code",[t._v("constraints")]),t._v(" and "),e("code",[t._v("overrides")]),t._v(" below:")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),e("h3",{attrs:{id:"congratulations-you-have-finished-your-nameservice-application-try-running-and-interacting-with-it"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#congratulations-you-have-finished-your-nameservice-application-try-running-and-interacting-with-it","aria-hidden":"true"}},[t._v("#")]),t._v(" Congratulations, you have finished your nameservice application! Try "),e("router-link",{attrs:{to:"./build-run.html"}},[t._v("running and interacting with it")]),t._v("!")],1)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"building-your-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#building-your-app","aria-hidden":"true"}},[this._v("#")]),this._v(" Building your app")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"makefile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#makefile","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("Makefile")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Help users build your application by writing a "),s("code",[this._v("./Makefile")]),this._v(" in the root directory that includes common commands:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[s("em",[s("em",[this._v("NOTE")])]),this._v(": The below Makefile contains some of same commands as the Cosmos SDK and Tendermint Makefiles.")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-makefile extra-class"},[e("pre",{pre:!0,attrs:{class:"language-makefile"}},[e("code",[e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("all")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lint install\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("install")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" go.sum\n\t\tgo install -mod"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("readonly "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BUILD_FLAGS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ./cmd/nsd\n\t\tgo install -mod"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("readonly "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BUILD_FLAGS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ./cmd/nscli\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("go.sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" go.mod\n\t\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("@")]),t._v("echo "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--\x3e Ensure dependencies have not been modified"')]),t._v("\n\t\tGO111MODULE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on go mod verify\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("lint")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tgolangci-lint run\n\tfind . -name "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.go'")]),t._v(" -type f -not -path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vendor*"')]),t._v(" -not -path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*.git*"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" xargs gofmt -d -s\n\tgo mod verify\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"how-about-including-ledger-nano-s-support"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-about-including-ledger-nano-s-support","aria-hidden":"true"}},[this._v("#")]),this._v(" How about including Ledger Nano S support?")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Create a file "),s("code",[this._v("Makefile.ledger")]),this._v(" with the following content:")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-makefile extra-class"},[e("pre",{pre:!0,attrs:{class:"language-makefile"}},[e("code",[t._v("LEDGER_ENABLED "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?=")]),t._v(" true\n\nbuild_tags "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ifeq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LEDGER_ENABLED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",true"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ifeq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",Windows_NT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    GCCEXE "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("shell")]),t._v(" where gcc.exe 2> NUL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ifeq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GCCEXE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error")]),t._v(" gcc.exe not installed for ledger support, please install or set LEDGER_ENABLED"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n      build_tags "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" ledger\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    UNAME_S "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("shell")]),t._v(" uname -s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ifeq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("UNAME_S"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",OpenBSD"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("      "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),t._v("(warning OpenBSD detected, disabling ledger support (https")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/cosmos/cosmos-sdk/issues/1988"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n      GCC "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("shell")]),t._v(" command -v gcc 2> /dev/null"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ifeq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GCC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(","),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error")]),t._v(" gcc not installed for ledger support, please install or set LEDGER_ENABLED"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("false"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        build_tags "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" ledger\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endif")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Add "),s("code",[this._v("include Makefile.ledger")]),this._v(" at the beginning of the Makefile:")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-makefile extra-class"},[e("pre",{pre:!0,attrs:{class:"language-makefile"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),t._v(" Makefile.ledger\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("all")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lint install\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("install")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" go.sum\n\t\tgo install -mod"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("readonly "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BUILD_FLAGS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ./cmd/nsd\n\t\tgo install -mod"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("readonly "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BUILD_FLAGS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ./cmd/nscli\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("go.sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" go.mod\n\t\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("@")]),t._v("echo "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--\x3e Ensure dependencies have not been modified"')]),t._v("\n\t\tGO111MODULE"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on go mod verify\n\n"),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v("lint")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tgolangci-lint run\n\tfind . -name "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.go'")]),t._v(" -type f -not -path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vendor*"')]),t._v(" -not -path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*.git*"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" xargs gofmt -d -s\n\tgo mod verify\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"go-mod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go-mod","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("go.mod")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[s("em",[s("em",[this._v("NOTE")])]),this._v(": If you are following along in your own repo you will need to change the module path to reflect that ("),s("code",[this._v("github.com/{ .Username }/{ .Project.Repo }")]),this._v(").")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("module github.com/cosmos/sdk-application-tutorial\n\ngo 1.12\n\nrequire (\n\tgithub.com/cosmos/cosmos-sdk v0.28.2-0.20190616100639-18415eedaf25\n\tgithub.com/gorilla/mux v1.7.0\n\tgithub.com/mattn/go-isatty v0.0.7 // indirect\n\tgithub.com/prometheus/procfs v0.0.0-20190328153300-af7bedc223fb // indirect\n\tgithub.com/spf13/afero v1.2.2 // indirect\n\tgithub.com/spf13/cobra v0.0.3\n\tgithub.com/spf13/viper v1.0.3\n\tgithub.com/syndtr/goleveldb v1.0.0 // indirect\n\tgithub.com/tendermint/go-amino v0.15.0\n\tgithub.com/tendermint/tendermint v0.31.5\n\tgolang.org/x/sys v0.0.0-20190329044733-9eb1bfa1ce65 // indirect\n\tgoogle.golang.org/genproto v0.0.0-20190327125643-d831d65fe17d // indirect\n\tgoogle.golang.org/grpc v1.19.1 // indirect\n)\n\nreplace golang.org/x/crypto => github.com/tendermint/crypto v0.0.0-20180820045704-3764759f34a5\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"building-the-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#building-the-app","aria-hidden":"true"}},[this._v("#")]),this._v(" Building the app")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install the app into your $GOBIN")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Now you should be able to run the following commands:")]),t._v("\nnsd "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v("\nnscli "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),t._v("\n")])])])}],!1,null,null,null);s.default=n.exports}}]);